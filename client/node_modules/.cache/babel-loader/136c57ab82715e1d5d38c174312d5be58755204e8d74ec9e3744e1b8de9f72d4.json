{"ast":null,"code":"var _jsxFileName = \"/Users/ramyamuthineni/swipe-savvy/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport HeroSection from './components/HeroSection';\nimport BusinessVerification from './components/BusinessVerification';\nimport AccountCreationForm from './components/AccountCreationForm';\nimport TermsConditions from './components/TermsConditions';\nimport SuccessConfirmation from './components/SuccessConfirmation';\nimport TestimonialCarousel from './components/TestimonialCarousel';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [step, setStep] = useState(1);\n  const [business, setBusiness] = useState(null);\n  const [userData, setUserData] = useState(null);\n  const handleSearch = businessDetails => {\n    if (businessDetails.id) {\n      setBusiness(businessDetails); // Store frontend-fetched business details\n      setStep(2); // Advance to BusinessVerification\n    }\n  };\n  const handleConfirmBusiness = () => setStep(3);\n  const handleTryAgain = () => setStep(1);\n  const handleAccountSubmit = data => {\n    if (data.back) {\n      setStep(2); // Go back to BusinessVerification\n      return;\n    }\n    // Simulate backend response for /api/register\n    setUserData({\n      userId: `mock-user-${Date.now()}`,\n      // Mock user ID\n      ...data,\n      businessId: business.id\n    });\n    setStep(4); // Advance to TermsConditions\n  };\n  const handleAcceptTerms = async data => {\n    if (data !== null && data !== void 0 && data.back) {\n      setStep(3); // Go back to AccountCreationForm\n      return;\n    }\n    try {\n      // Send userData + businessId to backend API to register the account\n      await axios.post('http://localhost:5000/api/register', {\n        ...userData // Includes email, password, etc.\n      });\n      setStep(5); // Advance to SuccessConfirmation\n    } catch (err) {\n      console.error('Registration failed:', err);\n      alert('Failed to create account. Please try again.');\n      // Optional: handle retry or stay on terms page\n    }\n  };\n  const handleUpgrade = async () => {\n    try {\n      const res = await axios.post('http://localhost:5000/api/upgrade', {\n        userId: userData.userId,\n        businessId: business.id // Include businessId for upgrade\n      });\n      window.location.href = res.data.sessionUrl;\n    } catch (error) {\n      console.error('Upgrade failed:', error);\n    }\n  };\n  const handleContinueFree = () => {\n    // Redirect to dashboard or homepage\n    window.location.href = '/';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [step === 1 && /*#__PURE__*/_jsxDEV(HeroSection, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 22\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(BusinessVerification, {\n      business: business,\n      onConfirm: handleConfirmBusiness,\n      onTryAgain: handleTryAgain\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(AccountCreationForm, {\n      onSubmit: handleAccountSubmit,\n      business: business // ✅ Pass business here\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(TermsConditions, {\n      onAccept: handleAcceptTerms\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }, this), step === 5 && /*#__PURE__*/_jsxDEV(SuccessConfirmation, {\n      onUpgrade: handleUpgrade,\n      onContinueFree: handleContinueFree\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"n6P45b8ZYf0t+Q9VwSfih1R4uVE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","HeroSection","BusinessVerification","AccountCreationForm","TermsConditions","SuccessConfirmation","TestimonialCarousel","axios","jsxDEV","_jsxDEV","App","_s","step","setStep","business","setBusiness","userData","setUserData","handleSearch","businessDetails","id","handleConfirmBusiness","handleTryAgain","handleAccountSubmit","data","back","userId","Date","now","businessId","handleAcceptTerms","post","err","console","error","alert","handleUpgrade","res","window","location","href","sessionUrl","handleContinueFree","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onConfirm","onTryAgain","onSubmit","onAccept","onUpgrade","onContinueFree","_c","$RefreshReg$"],"sources":["/Users/ramyamuthineni/swipe-savvy/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport HeroSection from './components/HeroSection';\nimport BusinessVerification from './components/BusinessVerification';\nimport AccountCreationForm from './components/AccountCreationForm';\nimport TermsConditions from './components/TermsConditions';\nimport SuccessConfirmation from './components/SuccessConfirmation';\nimport TestimonialCarousel from './components/TestimonialCarousel';\nimport axios from 'axios';\n\nfunction App() {\n  const [step, setStep] = useState(1);\n  const [business, setBusiness] = useState(null);\n  const [userData, setUserData] = useState(null);\n\n  const handleSearch = (businessDetails) => {\n    if (businessDetails.id) {\n      setBusiness(businessDetails); // Store frontend-fetched business details\n      setStep(2); // Advance to BusinessVerification\n    }\n  };\n\n  const handleConfirmBusiness = () => setStep(3);\n  const handleTryAgain = () => setStep(1);\n\n  const handleAccountSubmit = (data) => {\n    if (data.back) {\n      setStep(2); // Go back to BusinessVerification\n      return;\n    }\n    // Simulate backend response for /api/register\n    setUserData({\n      userId: `mock-user-${Date.now()}`, // Mock user ID\n      ...data,\n      businessId: business.id,\n    });\n    setStep(4); // Advance to TermsConditions\n  };\n\n  const handleAcceptTerms = async (data) => {\n    if (data?.back) {\n      setStep(3); // Go back to AccountCreationForm\n      return;\n    }\n\n    try {\n      // Send userData + businessId to backend API to register the account\n      await axios.post('http://localhost:5000/api/register', {\n        ...userData,          // Includes email, password, etc.\n      });\n\n      setStep(5); // Advance to SuccessConfirmation\n    } catch (err) {\n      console.error('Registration failed:', err);\n      alert('Failed to create account. Please try again.');\n      // Optional: handle retry or stay on terms page\n    }\n  };\n\n  const handleUpgrade = async () => {\n    try {\n      const res = await axios.post('http://localhost:5000/api/upgrade', {\n        userId: userData.userId,\n        businessId: business.id, // Include businessId for upgrade\n      });\n      window.location.href = res.data.sessionUrl;\n    } catch (error) {\n      console.error('Upgrade failed:', error);\n    }\n  };\n\n  const handleContinueFree = () => {\n    // Redirect to dashboard or homepage\n    window.location.href = '/';\n  };\n\n  return (\n    <div>\n      {step === 1 && <HeroSection onSearch={handleSearch} />}\n      {step === 2 && (\n        <BusinessVerification\n          business={business}\n          onConfirm={handleConfirmBusiness}\n          onTryAgain={handleTryAgain}\n        />\n      )}\n      {step === 3 && (\n        <AccountCreationForm\n          onSubmit={handleAccountSubmit}\n          business={business} // ✅ Pass business here\n        />\n      )}\n      {step === 4 && <TermsConditions onAccept={handleAcceptTerms} />}\n      {step === 5 && (\n        <SuccessConfirmation\n          onUpgrade={handleUpgrade}\n          onContinueFree={handleContinueFree}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}