{"ast":null,"code":"var _jsxFileName = \"/Users/ramyamuthineni/swipe-savvy/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport HeroSection from './components/HeroSection';\nimport BusinessVerification from './components/BusinessVerification';\nimport AccountCreationForm from './components/AccountCreationForm';\nimport TermsConditions from './components/TermsConditions';\nimport SuccessConfirmation from './components/SuccessConfirmation';\nimport TestimonialCarousel from './components/TestimonialCarousel';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [step, setStep] = useState(1);\n  const [business, setBusiness] = useState(null);\n  const [userData, setUserData] = useState(null);\n  const handleSearch = businessDetails => {\n    console.log('Received businessDetails:', businessDetails);\n    if (businessDetails && businessDetails.business_id) {\n      setBusiness(businessDetails);\n      setStep(2); // Advance to BusinessVerification\n    } else {\n      console.error('Invalid business details:', businessDetails);\n      alert('Invalid business details: Missing business_id. Please select a valid business from the autocomplete suggestions.');\n    }\n  };\n  const handleConfirmBusiness = () => setStep(3);\n  const handleTryAgain = () => setStep(1);\n  const handleAccountSubmit = data => {\n    if (data.back) {\n      setStep(2); // Go back to BusinessVerification\n      return;\n    }\n    setUserData(data); // Store user data\n    setStep(4); // Advance to TermsConditions\n  };\n  const handleAcceptTerms = async data => {\n    if (data !== null && data !== void 0 && data.back) {\n      setStep(3); // Go back to AccountCreationForm\n      return;\n    }\n    try {\n      console.log('Sending to /api/users:', {\n        fullName: userData === null || userData === void 0 ? void 0 : userData.fullName,\n        email: userData === null || userData === void 0 ? void 0 : userData.email,\n        mobileNumber: userData === null || userData === void 0 ? void 0 : userData.mobileNumber,\n        smsOptIn: userData === null || userData === void 0 ? void 0 : userData.smsOptIn,\n        password: userData === null || userData === void 0 ? void 0 : userData.password,\n        website: (userData === null || userData === void 0 ? void 0 : userData.website) || null,\n        isOwner: userData === null || userData === void 0 ? void 0 : userData.isOwner,\n        business_id: business === null || business === void 0 ? void 0 : business.business_id,\n        business_name: business === null || business === void 0 ? void 0 : business.name,\n        business_address: business === null || business === void 0 ? void 0 : business.address,\n        business_phone: (business === null || business === void 0 ? void 0 : business.phone) || null\n      });\n      const response = await axios.post('http://localhost:5001/api/users', {\n        fullName: userData === null || userData === void 0 ? void 0 : userData.fullName,\n        email: userData === null || userData === void 0 ? void 0 : userData.email,\n        mobileNumber: userData === null || userData === void 0 ? void 0 : userData.mobileNumber,\n        smsOptIn: userData === null || userData === void 0 ? void 0 : userData.smsOptIn,\n        password: userData === null || userData === void 0 ? void 0 : userData.password,\n        website: (userData === null || userData === void 0 ? void 0 : userData.website) || null,\n        isOwner: userData === null || userData === void 0 ? void 0 : userData.isOwner,\n        business_id: business === null || business === void 0 ? void 0 : business.business_id,\n        business_name: business === null || business === void 0 ? void 0 : business.name,\n        business_address: business === null || business === void 0 ? void 0 : business.address,\n        business_phone: (business === null || business === void 0 ? void 0 : business.phone) || null\n      });\n      setUserData(prev => ({\n        ...prev,\n        userId: response.data.userId,\n        business_id: business === null || business === void 0 ? void 0 : business.business_id\n      }));\n      setStep(5); // Advance to SuccessConfirmation\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Registration failed:', error);\n      alert('Failed to create account: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Please try again.'));\n    }\n  };\n  const handleUpgrade = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/upgrade-user', {\n        userId: userData === null || userData === void 0 ? void 0 : userData.userId\n      });\n      alert('Upgrade successful! Congratulations on becoming a premium user!');\n      // window.location.href = response.data.sessionUrl; // Redirect to Stripe checkout\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Upgrade failed:', error);\n      alert('Failed to initiate upgrade: ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Please try again.'));\n    }\n  };\n  const handleContinueFree = () => {\n    window.location.href = '/'; // Redirect to dashboard or homepage\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [step === 1 && /*#__PURE__*/_jsxDEV(HeroSection, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 22\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(BusinessVerification, {\n      business: business,\n      onConfirm: handleConfirmBusiness,\n      onTryAgain: handleTryAgain\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(AccountCreationForm, {\n      onSubmit: handleAccountSubmit,\n      business: business\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(TermsConditions, {\n      onAccept: handleAcceptTerms\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 22\n    }, this), step === 5 && /*#__PURE__*/_jsxDEV(SuccessConfirmation, {\n      onUpgrade: handleUpgrade,\n      onContinueFree: handleContinueFree\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TestimonialCarousel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"n6P45b8ZYf0t+Q9VwSfih1R4uVE=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","HeroSection","BusinessVerification","AccountCreationForm","TermsConditions","SuccessConfirmation","TestimonialCarousel","axios","jsxDEV","_jsxDEV","App","_s","step","setStep","business","setBusiness","userData","setUserData","handleSearch","businessDetails","console","log","business_id","error","alert","handleConfirmBusiness","handleTryAgain","handleAccountSubmit","data","back","handleAcceptTerms","fullName","email","mobileNumber","smsOptIn","password","website","isOwner","business_name","name","business_address","address","business_phone","phone","response","post","prev","userId","_error$response","_error$response$data","message","handleUpgrade","_error$response2","_error$response2$data","handleContinueFree","window","location","href","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","onConfirm","onTryAgain","onSubmit","onAccept","onUpgrade","onContinueFree","_c","$RefreshReg$"],"sources":["/Users/ramyamuthineni/swipe-savvy/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport HeroSection from './components/HeroSection';\nimport BusinessVerification from './components/BusinessVerification';\nimport AccountCreationForm from './components/AccountCreationForm';\nimport TermsConditions from './components/TermsConditions';\nimport SuccessConfirmation from './components/SuccessConfirmation';\nimport TestimonialCarousel from './components/TestimonialCarousel';\nimport axios from 'axios';\n\nfunction App() {\n  const [step, setStep] = useState(1);\n  const [business, setBusiness] = useState(null);\n  const [userData, setUserData] = useState(null);\n\n  const handleSearch = (businessDetails) => {\n    console.log('Received businessDetails:', businessDetails);\n    if (businessDetails && businessDetails.business_id) {\n      setBusiness(businessDetails);\n      setStep(2); // Advance to BusinessVerification\n    } else {\n      console.error('Invalid business details:', businessDetails);\n      alert('Invalid business details: Missing business_id. Please select a valid business from the autocomplete suggestions.');\n    }\n  };\n\n  const handleConfirmBusiness = () => setStep(3);\n  const handleTryAgain = () => setStep(1);\n\n  const handleAccountSubmit = (data) => {\n    if (data.back) {\n      setStep(2); // Go back to BusinessVerification\n      return;\n    }\n    setUserData(data); // Store user data\n    setStep(4); // Advance to TermsConditions\n  };\n\n  const handleAcceptTerms = async (data) => {\n    if (data?.back) {\n      setStep(3); // Go back to AccountCreationForm\n      return;\n    }\n    try {\n      console.log('Sending to /api/users:', {\n        fullName: userData?.fullName,\n        email: userData?.email,\n        mobileNumber: userData?.mobileNumber,\n        smsOptIn: userData?.smsOptIn,\n        password: userData?.password,\n        website: userData?.website || null,\n        isOwner: userData?.isOwner,\n        business_id: business?.business_id,\n        business_name: business?.name,\n        business_address: business?.address,\n        business_phone: business?.phone || null,\n      });\n      const response = await axios.post('http://localhost:5001/api/users', {\n        fullName: userData?.fullName,\n        email: userData?.email,\n        mobileNumber: userData?.mobileNumber,\n        smsOptIn: userData?.smsOptIn,\n        password: userData?.password,\n        website: userData?.website || null,\n        isOwner: userData?.isOwner,\n        business_id: business?.business_id,\n        business_name: business?.name,\n        business_address: business?.address,\n        business_phone: business?.phone || null,\n      });\n      setUserData((prev) => ({\n        ...prev,\n        userId: response.data.userId,\n        business_id: business?.business_id,\n      }));\n      setStep(5); // Advance to SuccessConfirmation\n    } catch (error) {\n      console.error('Registration failed:', error);\n      alert('Failed to create account: ' + (error.response?.data?.message || 'Please try again.'));\n    }\n  };\n\n  const handleUpgrade = async () => {\n    try {\n      const response = await axios.post('http://localhost:5001/api/upgrade-user', {\n        userId: userData?.userId,\n      });\n      alert('Upgrade successful! Congratulations on becoming a premium user!');\n      // window.location.href = response.data.sessionUrl; // Redirect to Stripe checkout\n    } catch (error) {\n      console.error('Upgrade failed:', error);\n      alert('Failed to initiate upgrade: ' + (error.response?.data?.message || 'Please try again.'));\n    }\n  };\n\n  const handleContinueFree = () => {\n    window.location.href = '/'; // Redirect to dashboard or homepage\n  };\n\n  return (\n    <div>\n      {step === 1 && <HeroSection onSearch={handleSearch} />}\n      {step === 2 && (\n        <BusinessVerification\n          business={business}\n          onConfirm={handleConfirmBusiness}\n          onTryAgain={handleTryAgain}\n        />\n      )}\n      {step === 3 && (\n        <AccountCreationForm\n          onSubmit={handleAccountSubmit}\n          business={business}\n        />\n      )}\n      {step === 4 && <TermsConditions onAccept={handleAcceptTerms} />}\n      {step === 5 && (\n        <SuccessConfirmation\n          onUpgrade={handleUpgrade}\n          onContinueFree={handleContinueFree}\n        />\n      )}\n      <TestimonialCarousel />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}